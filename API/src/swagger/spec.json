{"openapi":"3.0.0","info":{"title":"API smart city","version":"1.0.0"},"paths":{"/bloodtype/all":{"get":{"description":"Get all blood types","tags":["BloodType"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/BloodTypesFound"},"401":{"$ref":"#/components/responses/ErrorJWT"}}}},"/bloodtype/name":{"post":{"description":"Get a blood type by name","tags":["BloodType"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/BloodTypeName"},"responses":{"200":{"$ref":"#/components/responses/BloodTypeFound"},"400":{"$ref":"#/components/responses/IdUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"404":{"$ref":"#/components/responses/BloodTypeNotFound"}}}},"/bloodtype/{id}":{"get":{"description":"Get a blood type by id","tags":["BloodType"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/BloodTypeFound"},"400":{"$ref":"#/components/responses/IdUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"404":{"$ref":"#/components/responses/BloodTypeNotFound"}}},"delete":{"description":"Delete a blood type","tags":["BloodType"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/BloodTypeDeleted"},"400":{"$ref":"#/components/responses/IdUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"403":{"$ref":"#/components/responses/MissingJWT"},"404":{"$ref":"#/components/responses/BloodTypeNotFound"},"409":{"$ref":"#/components/responses/BloodTypeInUse"},"500":{"description":"Erreur serveur"}}}},"/bloodtype":{"post":{"description":"Create a new blood type","tags":["BloodType"],"security":[{"bearerAuth":[]}],"responses":{"201":{"$ref":"#/components/responses/BloodTypeCreated"},"400":{"$ref":"#/components/responses/BloodTypeUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"403":{"$ref":"#/components/responses/MissingJWT"},"409":{"$ref":"#/components/responses/BloodTypeAlreadyExists"}}},"patch":{"description":"Update a blood type","tags":["BloodType"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/BloodTypeToUpdate"},"responses":{"200":{"$ref":"#/components/responses/BloodTypeUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeManager"},"404":{"$ref":"#/components/responses/BloodTypeNotFound"},"500":{"description":"Erreur serveur"}}}},"/locality/all":{"get":{"description":"Get all localities","tags":["Locality"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/LocalitiesFound"},"401":{"$ref":"#/components/responses/ErrorJWT"}}}},"/locality/{id}":{"get":{"description":"Get a locality by id","tags":["Locality"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/LocalityFound"},"400":{"$ref":"#/components/responses/IdUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"404":{"$ref":"#/components/responses/LocalityNotFound"}}},"delete":{"description":"Delete a locality","tags":["Locality"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/LocalityDeleted"},"400":{"$ref":"#/components/responses/IdUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"403":{"$ref":"#/components/responses/MissingJWT"},"404":{"$ref":"#/components/responses/LocalityNotFound"},"409":{"$ref":"#/components/responses/LocalityInUse"},"500":{"description":"Erreur serveur"}}}},"/locality":{"post":{"description":"Create a new blood type","tags":["Locality"],"security":[{"bearerAuth":[]}],"responses":{"201":{"$ref":"#/components/responses/LocalityCreated"},"400":{"$ref":"#/components/responses/LocalityNameUndefined"},"401":{"$ref":"#/components/responses/ErrorJWT"},"403":{"$ref":"#/components/responses/MissingJWT"},"409":{"$ref":"#/components/responses/LocalityAlreadyExists"}}},"patch":{"description":"Update a locality","tags":["Locality"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/LocalityToUpdate"},"responses":{"200":{"$ref":"#/components/responses/LocalityUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeManager"},"404":{"$ref":"#/components/responses/LocalityNotFound"},"500":{"description":"Erreur serveur"}}}}},"components":{"schemas":{"BloodType":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"string"},"rhesus":{"type":"string"}}},"BloodTypes":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"string"},"rhesus":{"type":"string"}}}},"Locality":{"type":"object","properties":{"id":{"type":"integer"},"postalCode":{"type":"integer"},"name":{"type":"string"}}},"Localities":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"postalCode":{"type":"integer"}}}}},"responses":{"BloodTypeFound":{"description":"Blood type found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BloodType"}}}},"IdUndefined":{"description":"Id is undefined"},"BloodTypeNotFound":{"description":"Blood type not found"},"InputUndefined":{"description":"Type or rhesus is undefined"},"BloodTypesFound":{"description":"Blood types found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BloodTypes"}}}},"BloodTypeCreated":{"description":"Blood type created"},"BloodTypeAlreadyExists":{"description":"Blood type already exists"},"BloodTypeUndefined":{"description":"Type or rhesus is undefined"},"BloodTypeUpdated":{"description":"Blood type updated"},"BloodTypeDeleted":{"description":"Blood type deleted"},"BloodTypeInUse":{"description":"Blood type is used by users"},"LocalityFound":{"description":"Locality type found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Locality"}}}},"LocalityNotFound":{"description":"Locality not found"},"LocalityCreated":{"description":"Locality created"},"LocalityAlreadyExists":{"description":"Locality already exists"},"LocalityNameUndefined":{"description":"Name or postalcode is undefined"},"LocalityUpdated":{"description":"Locality updated"},"LocalityDeleted":{"description":"Locality deleted"},"LocalityInUse":{"description":"Locality is used by users"},"LocalitiesFound":{"description":"Localities found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Localities"}}}},"mustBeManager":{"description":"L'action demandée ne peut être réalisée que par un manager"},"ErrorJWT":{"description":"le JWT n'est pas valide"},"MissingJWT":{"description":"le JWT n'est pas présent"}},"requestBodies":{"BloodTypeName":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string"},"rhesus":{"type":"string"}}}}}},"BloodType":{"content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string"},"rhesus":{"type":"string"}},"required":["type","rhesus"]}}}},"BloodTypeToUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"type":{"type":"string"},"rhesus":{"type":"string"}}}}}},"Locality":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"postalCode":{"type":"integer"}},"required":["postalCode","name"]}}}},"LocalityToUpdate":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"postalCode":{"type":"integer"}}}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}